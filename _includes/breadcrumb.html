<nav class="breadcrumb">
    <a href="{{ '/' | relative_url }}">Home</a>
    {% if page.url != '/' %}
        {% assign crumbs = page.url | remove:'/index.html' | split: '/' %}
        {% for crumb in crumbs %}
            {% unless forloop.first %}
                {% if forloop.last %}
                    <span class="separator">/</span>
                    <span class="current">{{ page.title | default: crumb | replace:'-',' ' | capitalize }}</span>
                {% else %}
                    <span class="separator">/</span>
                    <a href="{% assign crumb_limit = forloop.index | plus: 1 %}{% for crumb in crumbs limit: crumb_limit %}{{ crumb | append: '/' }}{% endfor %}">{{ crumb | replace:'-',' ' | capitalize }}</a>
                {% endif %}
            {% endunless %}
        {% endfor %}
    {% endif %}
</nav>